var NoticeListController=function(n,t,i,r){var o,f,u,e,h;n.model={};f=0;u=1;const s=5;e=function(e){r.search(o,f,u,s,function(r){r&&(n.model.noticeList=e&&n.model.noticeList?_.concat(n.model.noticeList,r):r,r.length<s&&(n.model.hideLoadMoreButton=!0));n.model.isSearching=!1;n.model.isLoadingMore=!1;u>1&&t(function(){i.scrollBottom()})})};n.search=function(){n.model.hideLoadMoreButton=!1;u=1;o=n.model.keyword;f=n.model.selectedCategory.NotifyCategoryID;n.model.isSearching=!0;e(!1)};n.loadMore=function(){n.model.isLoadingMore=!0;++u;e(!0)};h=function(){n.model.isLoadingCategory=!0;r.getAllCategory(function(t){if(t){n.model.lstCategory=t;n.model.lstCategory.unshift({NotifyCategoryID:0,NotifyCategoryName:"Tất cả loại thông báo"});n.model.selectedCategory=n.model.lstCategory[0];n.search()}n.model.isLoadingCategory=!1})};h()},NoticeDetailController,TimeKeepingController;NoticeListController.$inject=["$scope","$timeout","$ionicScrollDelegate","NoticeFactory"];NoticeDetailController=function(n,t,i,r,u){n.model={};n.model.focusAddComment=!1;n.model.adminGroupID=ADMIN_PG_GROUP;n.scrollToComment=function(){i.scrollBottom()};n.addComment=function(){S(n.model.commentContent).isEmpty()?u.alert("Vui lòng nhập nội dung bình luận"):(n.model.isAddingComment=!0,r.addComment(t.id,n.model.commentContent,0,function(t){t&&(u.alert("Gửi bình luận thành công"),n.model.notice.LstComment.push(t));n.model.isAddingComment=!1}))};n.showHideAddComment=function(n){n.showAddComment=!n.showAddComment;n.showAddComment&&(n.focusAddComment=!0)};var f=function(){n.model.isLoading=!0;r.getDetail(t.id,function(t){t&&(n.model.notice=t);n.model.isLoading=!1})};f()};NoticeDetailController.$inject=["$scope","$stateParams","$ionicScrollDelegate","NoticeFactory","PopupFactory"];TimeKeepingController=function(n,t,i,r,u){var f,e,o;n.model={};f=0;e=function(){r.getTimeKeepingHistory(f,function(r){r&&(n.model.historyList=n.model.historyList?_.concat(n.model.historyList,r):r,n.model.isLoadingMore=!1,n.model.isLoadingHistory=!1,t(function(){i.scrollBottom()}))})};n.viewHistory=function(){n.model.showHistory&&!n.model.historyList&&(n.model.isLoadingHistory=!0,e())};n.checkIn=function(){n.model.isCheckingIn=!0;r.checkIn(function(t){t&&u.alert("Chấm công thành công",function(){n.model.status.CheckedIn=!0});n.model.isCheckingIn=!1})};n.loadMore=function(){n.model.isLoadingMore=!0;++f;e()};o=function(){n.model.isLoadingStatus=!0;r.getCheckInStatus(function(t){t&&(n.model.status=t);n.model.isLoadingStatus=!1})};o()};TimeKeepingController.$inject=["$scope","$timeout","$ionicScrollDelegate","TimeKeepingFactory","PopupFactory"];